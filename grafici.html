<html>
  <head>
    <!--<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    -->
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"
      type="text/javascript"
    ></script>
  </head>
  <body>
    <form>
        <div>
            <label>Numero prove</label>
            <input type="text" id="n_prove"/>
            
            
            <label>Step</label>
            <input type="text" id="step"/>
            
            <input type="button" value="mostra" onclick="disegnaGrafici();"/>
        </div>
        
    </form>

    <div style="width:50%;float:left;">
      <canvas id="grafico"></canvas>
    </div>
    <div style="width:50%;float:right;"> 
      <canvas id="grafico2"></canvas>
    </div>
   
    <script>
      
      function disegnaGrafici(){

        var n_prove = document.getElementById("n_prove").value;
        var intervallo_x = document.getElementById("step").value;


     
      var differenza = [];
      var errore = [];

      var lista_x = [];
     
      var min_y = -50;
      var max_y = 50;
      var n_pari = 0;
      for (var i = 0; i <= n_prove; i++) {
        if((Math.floor(Math.random() * 6 + 1)%2==0)){
            n_pari += 1;
            
        }
        
        if (i % intervallo_x == 0) {
          differenza.push(n_pari-(i/2));
          errore.push(Math.round(((n_pari-(i/2))/i)*100*100)/100);
        
          lista_x.push(i);
        }
      }
      console.log(n_pari);

            //primo grafico <--inizia-->
      var canvas = document.getElementById("grafico").getContext("2d");
      var grafico = new Chart(canvas, {
        type: "line",
        data: {
          labels: lista_x,
          datasets: [
            {
              label: "differenza",
              data: differenza,
              borderColor: [
                "#00ff00",
          
              ],
              fill: false,
            },
          ],
        },
        options: {
         
           scales: {
              yAxes: [{
                ticks: {
         
                 // min: min_y,
                 // max: max_y,
          
                }
              }],
              xAxes: [{
                ticks: {
                  min: 0,
                  max: n_prove,
                  stepSize: 1000
              }
              }]
          } 
         }
        
      });//<--fine-->
// secondo grafico <--inizio-->
      var canvas = document.getElementById("grafico2").getContext("2d");
      var grafico = new Chart(canvas, {
        type: "line",
        data: {
          labels: lista_x,
          datasets: [
            {
              label: "errore",
              data: errore,
              borderColor: [
                "#ff6600",
          
              ],
              fill: false,
            },
          ],
        },
        options: {
         
           scales: {
              yAxes: [{
                ticks: {
         
                  //min: -4,
                  //max: 4,
          
                }
              }],
              xAxes: [{
                ticks: {
                  min: 0,
                  max: n_prove,
                  stepSize: 1000
              }
              }]
          } 
         }
        
      });
      //<--fine-->


      }
      //var n_prove = 10000; 
      var differenza = [];
      var errore = [];

      var lista_x = [];
      //var intervallo_x = 200;
      var min_y = -50;
      var max_y = 50;
      var n_pari = 0;
      for (var i = 0; i <= n_prove; i++) {
        if((Math.floor(Math.random() * 6 + 1)%2==0)){
            n_pari += 1;
            
        }
        
        if (i % intervallo_x == 0) {
          differenza.push(n_pari-(i/2));
          errore.push(Math.round(((n_pari-(i/2))/i)*100*100)/100);
        
          lista_x.push(i);
        }
      }
      console.log(n_pari);
      //primo grafico <--inizia-->
      var canvas = document.getElementById("grafico").getContext("2d");
      var grafico = new Chart(canvas, {
        type: "line",
        data: {
          labels: lista_x,
          datasets: [
            {
              label: "differenza",
              data: differenza,
              borderColor: [
                "#00ff00",
          
              ],
              fill: false,
            },
          ],
        },
        options: {
         
           scales: {
              yAxes: [{
                ticks: {
         
                  min: min_y,
                  max: max_y,
          
                }
              }],
              xAxes: [{
                ticks: {
                  min: 0,
                  max: n_prove,
                  stepSize: 1000
              }
              }]
          } 
         }
        
      });//<--fine-->
// secondo grafico <--inizio-->
      var canvas = document.getElementById("grafico2").getContext("2d");
      var grafico = new Chart(canvas, {
        type: "line",
        data: {
          labels: lista_x,
          datasets: [
            {
              label: "errore",
              data: errore,
              borderColor: [
                "#ff6600",
          
              ],
              fill: false,
            },
          ],
        },
        options: {
         
           scales: {
              yAxes: [{
                ticks: {
         
                  min: -4,
                  max: 4,
          
                }
              }],
              xAxes: [{
                ticks: {
                  min: 0,
                  max: n_prove,
                  stepSize: 1000
              }
              }]
          } 
         }
        
      });
      //<--fine-->
    </script>
  </body>
</html>
